(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-433b73b6"],{"21c3":function(t,o,e){t.exports=e.p+"img/5.fb5a13af.jpg"},"23e6":function(t,o,e){t.exports=e.p+"img/13.58e127cf.jpg"},"2d9a":function(t,o,e){t.exports=e.p+"img/4.b3255601.jpg"},"56b5":function(t,o,e){t.exports=e.p+"img/2.e9d058d6.jpg"},"5ebe":function(t,o,e){"use strict";e.r(o);var s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticStyle:{"background-color":"#F5F5F5"}},[e("el-container",{staticStyle:{width:"70%",margin:"0 auto"}},[e("el-header",{staticStyle:{"background-color":"#8FC0A9",height:"65px",display:"flex"}},[e("div",{on:{click:t.goBack}},[e("h3",[e("i",{staticClass:"el-icon-back"}),t._v("返回")])]),e("div",[e("img",{staticStyle:{width:"100px",height:"65px","margin-left":"20px"},attrs:{src:t.logoImage}})]),e("div",{staticStyle:{"margin-left":"700px"},on:{click:t.goUser}},[e("h3",[e("i",{staticClass:"el-icon-s-custom"}),t._v("个人中心")])])]),e("el-main",{staticStyle:{height:"700px","background-color":"#FAF3DD",padding:"80px"}},[e("div",{staticStyle:{display:"flex",margin:"0 auto"}},[e("div",{staticStyle:{"margin-left":"40px"}},[e("img",{staticStyle:{height:"400px",width:"300px"},attrs:{src:t.goods.goodsImage}})]),e("div",{staticStyle:{"margin-left":"50px","text-align":"center",width:"500px"}},[e("el-divider"),e("h3",[t._v(t._s(t.goods.goodsName))]),e("h5",[t._v("库存："+t._s(t.goods.goodsAmount))]),e("div",{staticStyle:{"background-color":"#C8D5B9",height:"50px",display:"flex",margin:"0 auto"}},[e("h1",{staticStyle:{color:"red","margin-top":"10px","margin-left":"200px"}},[t._v("¥ "+t._s(t.goods.goodsPrice))]),e("p",{staticStyle:{"font-size":"smaller","margin-top":"20px","margin-left":"10px"}},[t._v("绿叶/个")])]),e("div",{staticStyle:{margin:"50px"}},[e("el-input-number",{attrs:{min:1,max:10,label:"描述文字"},on:{change:t.handleChange},model:{value:t.num,callback:function(o){t.num=o},expression:"num"}})],1),e("div",[e("el-button",{attrs:{type:"danger",plain:""},on:{click:t.buyNow}},[t._v("立即购买")])],1)],1)]),e("div",{staticStyle:{"margin-left":"50px"}},[e("h5",{on:{click:t.showAuthor}},[e("i",{staticClass:"el-icon-search"}),t._v("查看卖家信息")]),e("el-collapse",{staticStyle:{"background-color":"#C8D5B9",margin:"30px"}},[e("el-collapse-item",[e("template",{slot:"title"},[e("i",{staticClass:"header-icon el-icon-info"}),e("h5",[t._v("商品介绍")])]),e("p",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.goods.goodsContent))])],2)],1)],1)]),e("el-drawer",{attrs:{visible:t.drawer,"with-header":!1},on:{"update:visible":function(o){t.drawer=o}}},[e("span",[e("div",{staticStyle:{margin:"0 auto",padding:"150px","text-align":"center"}},[e("h5",[t._v("卖家信息：")]),e("el-avatar",{attrs:{size:100,src:t.user.userImage}}),e("h3",[t._v(" "+t._s(t.user.userName)+" ")]),e("h3",[t._v(" "+t._s(t.user.place)+" ")]),e("h3",[e("i",{staticClass:"el-icon-chat-line-round",on:{click:t.goToChat}})])],1)])]),e("el-drawer",{attrs:{visible:t.drawer1,"with-header":!1},on:{"update:visible":function(o){t.drawer1=o}}},[e("span",[e("div",{staticStyle:{margin:"0 auto",padding:"150px","text-align":"center"}},[e("h3",[t._v("请确认订单：")]),e("div",{staticStyle:{border:"1px solid #C8D5B9",width:"200px","border-radius":"10px",padding:"10px"}},[e("h5",[t._v("商品："+t._s(t.goods.goodsName))]),e("h5",[t._v("单价："+t._s(t.goods.goodsPrice))]),e("h5",[t._v("数量："+t._s(t.num))]),e("h5",[t._v("总价："+t._s(t.num*t.goods.goodsPrice))]),e("el-button",{attrs:{type:"danger"},on:{click:t.submitOrder}},[t._v("提交订单")])],1)])])]),e("Footer")],1)],1)},i=[],a=e("fd2d"),r={name:"GoodsDetail",components:{Footer:a["a"]},data:function(){return{goodsIdCurrently:null,logoImage:e("ab91"),num:1,sumPrice:null,drawer:!1,drawer1:!1,goods:{goodsName:"",goodsPrice:null,goodsAmount:null,goodsAuthorId:null,goodsImage:"",goodsContent:""},user:{userName:"",userImage:"",balance:null,place:""}}},methods:{getGoodsDetail:function(){var t=this;console.log("开始发送请求。。。"),this.$http({url:"http://localhost:8083/goods/showByOne",method:"POST",params:{goodsID:this.goodsIdCurrently}}).then((function(o){t.goods=o.data,t.goods.goodsImage=e("0786")("./"+o.data.goodsImage),console.log(t.goods)})).catch((function(t){console.log(t)}))},getParams:function(){var t=localStorage.getItem("goodIdCurrent");console.log("接收到的参数为："+t),this.goodsIdCurrently=t,console.log(this.goodsIdCurrently)},goBack:function(){this.$router.push("/")},goUser:function(){this.$router.push("/user")},handleChange:function(t){console.log(t)},showAuthor:function(){this.drawer=!0,this.getUser()},getUser:function(){var t=this;this.$http({method:"POST",url:"http://localhost:8083/user/userDetail",params:{userId:this.goods.goodsAuthorId}}).then((function(o){console.log(o.data),t.user=o.data,t.user.userImage=e("db4e")("./"+o.data.userImage),console.log(t.user)})).catch((function(t){console.log(t)}))},openShoppingCar:function(){this.drawer1=!0,this.sumPrice=this.num*this.goodsPrice},submitOrder:function(){var t=this;console.log(this.num*this.goods.goodsPrice),this.drawer1=!1,this.$http({method:"POST",url:"http://localhost:8083/goods/placeOrder",params:{order1HomeUserId:this.goods.goodsAuthorId,order1HomeAmount:this.num,order1PriceOne:this.goods.goodsPrice,order1PriceSum:this.num*this.goods.goodsPrice,order1BuyUserId:localStorage.getItem("userID"),order1GoodsId:this.goodsIdCurrently}}).then((function(o){console.log(o.data),1==o.data.res?t.$message("下单成功，详情请到个人中心查看"):t.$message("下单失败，请稍后重试")})).catch((function(t){console.log(t)}))},buyNow:function(){this.drawer1=!0},carAdd:function(){this.$notify({title:"添加购物车成功",message:"这是一条成功的提示消息",type:"success"})},goToChat:function(){this.$router.push("/chat")}},created:function(){this.getParams(),this.getGoodsDetail()},destroyed:function(){localStorage.removeItem("goodIdCurrent")}},n=r,d=e("2877"),l=Object(d["a"])(n,s,i,!1,null,"23bac8b3",null);o["default"]=l.exports},"7d30":function(t,o,e){t.exports=e.p+"img/22.01e1d606.jpg"},abe5:function(t,o,e){t.exports=e.p+"img/1.c6e4f65d.jpg"},d99b:function(t,o,e){t.exports=e.p+"img/12.5f35b334.jpg"},db4e:function(t,o,e){var s={"./1.jpg":"abe5","./10.jpg":"2b3a","./11.jpg":"d532","./12.jpg":"d99b","./13.jpg":"23e6","./2.jpg":"56b5","./22.jpg":"7d30","./3.jpg":"e24b","./4.jpg":"2d9a","./5.jpg":"21c3","./9.jpg":"9fa0","./logo.png":"ab91"};function i(t){var o=a(t);return e(o)}function a(t){if(!e.o(s,t)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=a,t.exports=i,i.id="db4e"},e24b:function(t,o,e){t.exports=e.p+"img/3.b41111aa.jpg"}}]);
//# sourceMappingURL=chunk-433b73b6.f45c5f86.js.map